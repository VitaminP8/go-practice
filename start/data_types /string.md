# Строки в Go

## 1. Что такое строки в Go?
Строки (string) в Go — это неизменяемая (immutable) последовательность байтов, которая используется для представления текста. В отличие от языков с мутабельными строками, в Go изменение содержимого строки невозможно без создания новой строки.

## 2. Внутреннее устройство строк
Строка в Go представлена структурой:

```go
struct StringHeader {
    Data uintptr // Указатель на массив байтов
    Len  int     // Длина строки
}
```

То есть строка содержит указатель на массив байтов и его длину, но не ёмкость (`capacity`), как у слайсов. Это связано с тем, что строки неизменяемы, и их нельзя расширять без создания нового объекта в памяти.

## 3. Хранение строк в памяти
Строки хранятся в виде последовательности байтов, а не `rune` (символов). Это важно учитывать при работе с многобайтовыми символами (например, в UTF-8).

Пример:
```go
s := "Привет"
fmt.Println(len(s)) // 12 (т.к. русские буквы занимают по 2 байта)
```

Структура строки `s`:
```
+---+---+---+---+---+---+---+---+---+---+---+---+
| П | р | и | в | е | т |
+---+---+---+---+---+---+---+---+---+---+---+---+
  208 159 208 180 208 184 ... (UTF-8 кодировка)
```

## 4. Основные операции со строками

### 4.1 Доступ к символам
Строки можно индексировать, но доступ идёт к байтам, а не к `rune`:
```go
s := "Привет"
fmt.Println(s[0]) // 208 (первый байт UTF-8-кода буквы "П")
```
Чтобы получить символы, используем `rune`:
```go
runes := []rune(s)
fmt.Println(runes[0]) // 'П'
```

### 4.2 Конкатенация строк
```go
s1 := "Hello"
s2 := "World"
result := s1 + " " + s2
fmt.Println(result) // "Hello World"
```

### 4.3 Разбиение строки
```go
import "strings"
s := "Go is awesome"
words := strings.Split(s, " ")
fmt.Println(words) // ["Go" "is" "awesome"]
```

### 4.4 Поиск подстроки
```go
import "strings"
fmt.Println(strings.Contains("hello world", "world")) // true
```

### 4.5 Преобразование строки в слайс байтов
```go
b := []byte("Hello")
fmt.Println(b) // [72 101 108 108 111]
```

### 4.6 Преобразование строки в слайс `rune`
```go
r := []rune("Привет")
fmt.Println(r) // [1055 1088 1080 1074 1077 1090]
```

### 4.7 Изменение строки (через `rune`)
```go
r := []rune("Привет")
r[0] = 'Д'
s := string(r)
fmt.Println(s) // "Дривет"
```

## 5. Итог
- **Строки неизменяемы и хранятся в виде байтов.**
- **Для работы с многобайтовыми символами (UTF-8) используем `rune`.**
- **Операции над строками требуют создания новых строк, что может быть накладно по памяти.**

